/* style.css 전체 교체 */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    width: 100%;
    height: 100%;
    font-family: 'Impact', 'Arial Black', 'Noto Sans KR', sans-serif;
    background-color: white;
    overflow-x: hidden;
    
    /* ★ 핵심: 페이지가 자석처럼 딱딱 붙게 만드는 기능 ★ */
    scroll-snap-type: y mandatory; 
    scroll-behavior: smooth;
}

/* 모든 섹션 공통 설정 */
section {
    width: 100%;
    height: 100vh; /* 화면 꽉 차게 */
    
    /* ★ 섹션의 시작 부분에 스크롤이 딱 멈추도록 설정 ★ */
    scroll-snap-align: start; 
    scroll-snap-stop: always;
    
    position: relative;
    overflow: hidden; /* 내부 요소 튀어나옴 방지 */
}

/* --- [1] 메인 섹션 --- */
.main-section {
    background-color: #E60000;
    display: flex;
    justify-content: center;
    align-items: center;
}

.main-title {
    color: white;
    font-size: 8rem;
    line-height: 1.1;
    text-align: center;
    text-transform: uppercase;
    z-index: 100;
}

/* 공통 오브젝트: 위치를 무조건 화면 정중앙에 고정 (Fixed) */
/* 이렇게 하면 스크롤을 어디로 움직이든 절대 위치가 안 흔들립니다 */
.sticky-ball, .stop-sign, .heart-shape {
    position: fixed !important; /* 강제 고정 */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.sticky-ball {
    width: 100px;
    height: 100px;
    background-color: #E60000;
    border-radius: 50%;
   z-index: 20 !important;
}

/* --- [2] 두 번째 장면 (STOP & CAR) --- */
.scene-stop {
    background-color: white;
}

.pole {
    width: 10px;
    height: 50vh;
    background-color: black;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, 0);
    z-index: 1;
}

.stop-sign {
    width: 150px;
    height: 150px;
    z-index: 100 !important;
    opacity: 0; /* JS로 제어 */
}

/* SVG 내부 색상 강제 통일 */
.stop-sign .cls-4 { fill: #E60000 !important; }

.car {
    width: 40vw;
    position: absolute;
    bottom: 5%;
    left: 5%;
    z-index: 6;
    fill: black;
}

/* --- [3] 세 번째 장면 (LOVE) --- */
.scene-love {
    background-color: white;
    display: flex; 
    flex-direction: row; 
    justify-content: space-between; 
    align-items: center;            
    padding: 0 15%;
}

.person {
    width: 200px;
    height: auto;
    z-index: 10;
    display: block;
}

.person svg {
    width: 100%;
    height: 100%;
}

.heart-shape {
    width: 150px;
    height: 150px;
    fill: #E60000 !important;
    opacity: 0;
    z-index: 10;
}

/* --- [4] 네 번째 장면 (OK) : 위치 수정 버전 --- */

.scene-ok {
    width: 100%;
    height: 100vh;
    background-color: white;
    position: relative; /* 자식 요소들의 기준점 */
    overflow: hidden;
}

/* 1. 체크표시 (공 위로 띄우기) */
.checkmark {
    width: 100px;
    height: 100px;
    
    position: absolute; /* 자유로운 위치 선정 */
    top: 50%;
    left: 50%;
    
    /* [핵심] 정중앙에서 위(-y축)로 110px 만큼 이동 */
    /* 공 크기가 100px니까 그보다 조금 더 위로 */
    transform: translate(-50%, -160px); 
    
    opacity: 0; 
    z-index: 30; /* 공보다 위에 보이게 */
}

/* 체크표시 선 스타일 */
.checkmark svg {
    width: 100%;
    height: 100%;
    fill: none;
    stroke: #E60000;
    stroke-width: 10px; /* 선 굵기 */
    stroke-linecap: round;
    stroke-linejoin: round;
}


/* 2. K 글자 (공 오른쪽으로 밀기) */
.k-text {
    /* 글자 크기랑 굵기 */
    font-size: 9rem; 
    font-weight: 900;
    color: black;
    line-height: 1;
    
    position: absolute;
    top: 50%;
    left: 50%;
    
    /* [핵심] 정중앙에서 오른쪽(+x축)으로 65px 만큼 이동 */
    /* 공 반지름(50px) + 간격(15px) = 65px */
    transform: translate(65px, -52%); /* -52%는 시각적 높이 보정 */
    
    z-index: 10;
}

.scene-no {
    width: 100%; height: 100vh; background-color: white;
    position: relative; overflow: hidden;
}

.decline-icon {
    width: 100px; height: 100px;
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%); /* 정확히 중앙 */
    
    /* [핵심] 빨간 공(z-index: 20)보다 높아야 흰색 아이콘이 보임 */
    z-index: 100 !important; 
    opacity: 0; /* 처음엔 숨김 (JS로 짠!) */
}
.decline-icon svg { width: 100%; height: 100%; }

.n-text {
    font-size: 9rem; font-weight: 900; color: black; line-height: 1;
    position: absolute; top: 50%; left: 48%;
    transform: translate(-130px, -52%); /* 왼쪽 배치 */
    z-index: 10;
}

/* --- [6] 여섯 번째 장면 (수도꼭지) - 심플 버전 --- */

.scene-drop {
    width: 100%;
    height: 100vh;
    background-color: white;
    position: relative;
    overflow: hidden;
}

/* 1. 수도꼭지 몸통 */
.faucet-body {
    width: 800px;
    
    position: absolute;
    top: 50%;
    left: 50%;
    
    /* [위치 수정 완료] */
    /* x축: -42% -> -35% (오른쪽으로 이동) */
    /* y축: -65% -> -50% (아래로 이동) */
    /* 이제 화면 정중앙에 있는 공이 수도꼭지 몸통 가운데에 위치할 것입니다 */
    transform: translate(-39%, -55%); 
    
    z-index: 10; /* 공(20)보다 뒤에 배치 */
    pointer-events: none;
}


/* --- [7] IMPORTANT 장면 CSS (보내주신 코드 + 안전장치) --- */

.important-section {
    width: 100%;
    height: 100vh;
    background-color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;


}

.dense-text-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0px; 
}

.dense-text-container p {
    margin: 0;
    font-size: 4rem; 
    font-weight: 900;
    color: black;
    line-height: 1.1;
    white-space: nowrap;
    transition: opacity 0.3s ease; 
}

/* 주인공 문장 */
.target-line {
    position: relative;
    z-index: 30 !important; /* HTML 인라인 스타일보다 확실하게 */
}

/* --- 변신 효과 --- */

/* 1. 배경 흐리게 */
.important-section.is-active .bg-line {
    opacity: 0.1 !important; 
}

/* 2. 주인공 선명하게 */
.important-section.is-active .target-line {
    opacity: 1 !important;
}

/* 3. 빨간 공 -> 테두리 변신 */
.sticky-ball.is-highlighting {
    background-color: transparent !important; /* 면 투명 */
    border: 15px solid #E60000 !important;   /* 선 생성 */
    
    width: 850px !important; 
    height: 140px !important;
    border-radius: 100px !important;
    
    transform: translate(-50%, -50%) !important;
    
    z-index: 20 !important; /* 글자(30) 뒤, 배경 앞 */
    opacity: 1 !important;
    
    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
}

/* --- [8] 마지막 장면: REC --- */
.scene-rec {
    width: 100%;
    height: 100vh;
    background-color: white;
    
    /* 중앙 정렬 */
    display: flex;
    justify-content: center;
    align-items: center;
    
    position: relative;
    overflow: hidden;
}

.rec-text {
    font-size: 8rem; /* 글자 크기 */
    font-weight: 900;
    color: black;
    
    /* [핵심] 공이 정중앙에 있으므로, 글자를 오른쪽으로 밈 */
    /* 공 지름(100px)/2 + 여백 = 약 70~80px 이동 */
    margin-left: 350px; 
}

/* 깜빡이는 애니메이션 정의 */
@keyframes blink-effect {
    0% { opacity: 1; }
    50% { opacity: 0; }
    100% { opacity: 1; }
}

/* [JS가 붙일 클래스] 녹화 모드 */
.sticky-ball.is-recording {
    /* 1. [7]번 장면의 테두리/알약 스타일 초기화 (강제 적용) */
    background-color: #E60000 !important; /* 속 채우기 */
    border: none !important;              /* 테두리 없애기 */
    border-radius: 50% !important;        /* 다시 원형으로 */
    width: 100px !important;              /* 원래 크기 */
    height: 100px !important;
    transform: translate(-50%, -50%) !important; /* 중앙 고정 */
    
    /* 2. 깜빡임 효과 적용 (1초마다 무한 반복) */
    animation: blink-effect 1s infinite;
    
    z-index: 100 !important; /* 제일 위에 */

}

/* --- [9] 배터리 부족 (최종_매직스왑.css) --- */
.scene-battery {
    width: 100%; height: 100vh; background-color: white;
    display: flex; justify-content: center; align-items: center;
    position: relative;
}
.battery-layout { display: flex; align-items: center; gap: 30px; }
.percent-text { font-size: 8rem; font-weight: 900; color: black; line-height: 1; }
.battery-container { display: flex; align-items: center; position: relative; }

/* 배터리 껍데기 */
.battery-shell {
    width: 200px; height: 100px;
    border: 12px solid black; 
    border-radius: 15px;
    background: transparent;
    
    /* 내부의 빨간 네모 위치 잡기용 */
    display: flex;
    align-items: center; /* 세로 중앙 */
    justify-content: flex-start; /* 왼쪽 정렬 */
    padding: 5px; /* 테두리와 간격 */
    
    z-index: 10;
}

.battery-tip {
    width: 15px; height: 50px;
    background-color: black;
    border-radius: 0 10px 10px 0;
    margin-left: 8px;
}

/* [★핵심] 미리 넣어둔 빨간 네모 (처음엔 숨김) */
.battery-fill {
    width: 60px; /* 잔량 너비 */
    height: 100%; /* 껍데기 높이에 맞춤 */
    background-color: #E60000;
    border-radius: 3px; /* 살짝 둥근 네모 */
    
    opacity: 0; /* 평소엔 안 보임! */
    transition: opacity 0.1s ease; /* 켜질 때 부드럽게 */
}

/* [★핵심] 진짜 공을 숨기는 클래스 */
.sticky-ball.force-hide {
    opacity: 0 !important;
    transition: opacity 0.1s ease;
}

/* --- [10] 마지막 장면: NEXT (최종 수정) --- */
.scene-next {
    width: 100%;
    height: 100vh;
    background-color: #E60000; /* 강렬한 빨강 배경 */
    
    display: flex;
    justify-content: center;
    align-items: center;
    
    position: relative;
    z-index: 100; 
}

/* 링크 감싸는 상자 (여기에 호버 효과 적용) */
.next-link-wrapper {
    text-decoration: none; /* 링크 밑줄 제거 */
    cursor: pointer;       /* 마우스 올리면 손가락 모양 */
    
    /* 변신 속도 (부드럽게) */
    transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    
    /* 클릭 영역 확보를 위해 블록 처리 */
    display: inline-block; 
}

/* [★핵심] 마우스를 올렸을 때 (Hover) */
.next-link-wrapper:hover {
    transform: scale(1.15); /* 1.15배 커짐 */
}

/* 내부 콘텐츠 정렬 */
.next-content {
    display: flex;
    align-items: center;
    gap: 40px; 
}

.next-text {
    font-size: 10rem; 
    font-weight: 900;
    color: white; /* 흰색 글씨 */
    line-height: 1;
}

.arrow-icon {
    width: 120px;
    height: 120px;
    display: flex;
    align-items: center;
}

.arrow-icon svg {
    width: 100%;
    height: 100%;
    /* stroke 색상은 HTML path에서 설정됨 (white) */
}
